<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>System Programming Networking Library: net.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">System Programming Networking Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Simple networking library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">net.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>helper functions for network programming  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/socket.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for net.h:</div>
<div class="dyncontent">
<div class="center"><img src="net_8h__incl.png" border="0" usemap="#net_8h" alt=""/></div>
<map name="net_8h" id="net_8h">
<area shape="rect"  title="helper functions for network programming" alt="" coords="29,5,79,32"/>
<area shape="rect"  title=" " alt="" coords="5,80,103,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="net_8h__dep__incl.png" border="0" usemap="#net_8hdep" alt=""/></div>
<map name="net_8hdep" id="net_8hdep">
<area shape="rect"  title="helper functions for network programming" alt="" coords="5,5,56,32"/>
<area shape="rect"  href="net_8c.html" title="helper functions for network programming" alt="" coords="5,80,56,107"/>
</map>
</div>
</div>
<p><a href="net_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">network helper functions</div></td></tr>
<tr class="memitem:ae41fa88db6ed607d45f56e2ad4a284a1"><td class="memItemLeft" align="right" valign="top">struct addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8h.html#ae41fa88db6ed607d45f56e2ad4a284a1">getsocklist</a> (const char *host, unsigned short port, int family, int type, int listening, int *res)</td></tr>
<tr class="memdesc:ae41fa88db6ed607d45f56e2ad4a284a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">wrapper for getaddrinfo(). Make sure to free the returned structure with freeaddrinfo().  <a href="#ae41fa88db6ed607d45f56e2ad4a284a1">More...</a><br /></td></tr>
<tr class="separator:ae41fa88db6ed607d45f56e2ad4a284a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafce5bb9eaa5f34001fea0cb3549eb7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8h.html#aafce5bb9eaa5f34001fea0cb3549eb7e">dump_sockaddr</a> (struct sockaddr *sa)</td></tr>
<tr class="memdesc:aafce5bb9eaa5f34001fea0cb3549eb7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">dump a sockaddr structure to stdout in human readable form.  <a href="#aafce5bb9eaa5f34001fea0cb3549eb7e">More...</a><br /></td></tr>
<tr class="separator:aafce5bb9eaa5f34001fea0cb3549eb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">sending/receiving of unstructured data</div></td></tr>
<tr class="memitem:acc3e864b0be134026b9456ba568181b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8h.html#acc3e864b0be134026b9456ba568181b8">get_data</a> (int sock, char *buf, size_t len)</td></tr>
<tr class="memdesc:acc3e864b0be134026b9456ba568181b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">read <em>len</em> bytes from <em>sock</em> into <em>buf</em>. Blocks until <em>len</em> bytes have been read, and survives interrupts caused by signals.  <a href="#acc3e864b0be134026b9456ba568181b8">More...</a><br /></td></tr>
<tr class="separator:acc3e864b0be134026b9456ba568181b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2eda30b967452fe157dceff3e8963a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8h.html#acc2eda30b967452fe157dceff3e8963a">put_data</a> (int sock, char *buf, size_t len)</td></tr>
<tr class="memdesc:acc2eda30b967452fe157dceff3e8963a"><td class="mdescLeft">&#160;</td><td class="mdescRight">write <em>len</em> bytes from <em>buf</em> to <em>sock</em>. Blocks until <em>len</em> bytes have been written, and survives interrupts caused by signals.  <a href="#acc2eda30b967452fe157dceff3e8963a">More...</a><br /></td></tr>
<tr class="separator:acc2eda30b967452fe157dceff3e8963a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">sending/receiving of '\n'-terminated strings</div></td></tr>
<tr class="memitem:a2de712772b5c6584ab79823ecb73aa91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8h.html#a2de712772b5c6584ab79823ecb73aa91">get_line</a> (int sock, char **buf, size_t *cur_len)</td></tr>
<tr class="memdesc:a2de712772b5c6584ab79823ecb73aa91"><td class="mdescLeft">&#160;</td><td class="mdescRight">read a '\n'-terminated line from <em>sock</em> into <em>buf</em>. <em>Buf</em> is reallocated if necessary. Blocks until one line has been read, and survives interrupts caused by signals.  <a href="#a2de712772b5c6584ab79823ecb73aa91">More...</a><br /></td></tr>
<tr class="separator:a2de712772b5c6584ab79823ecb73aa91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7009b8a51b941ac13828cd6af8139411"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net_8h.html#a7009b8a51b941ac13828cd6af8139411">put_line</a> (int sock, char *buf, size_t len)</td></tr>
<tr class="memdesc:a7009b8a51b941ac13828cd6af8139411"><td class="mdescLeft">&#160;</td><td class="mdescRight">write one or several '\n'-terminated lines from <em>buf</em> to <em>sock</em>. If not '\n'-terminated, an extra newline character is sent automatically. Blocks until all lines have been sent, and survives interrupts caused by signals.  <a href="#a7009b8a51b941ac13828cd6af8139411">More...</a><br /></td></tr>
<tr class="separator:a7009b8a51b941ac13828cd6af8139411"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>helper functions for network programming </p>
<dl class="section author"><dt>Author</dt><dd>Bernhard Egger <a href="#" onclick="location.href='mai'+'lto:'+'ber'+'nh'+'ard'+'@c'+'sap'+'.s'+'nu.'+'ac'+'.kr'; return false;">bernh<span style="display: none;">.nosp@m.</span>ard@<span style="display: none;">.nosp@m.</span>csap.<span style="display: none;">.nosp@m.</span>snu.<span style="display: none;">.nosp@m.</span>ac.kr</a> </dd></dl>
<h1><a class="anchor" id="changelog"></a>
Change Log</h1>
<ul>
<li>2016/10/14 Bernhard Egger created</li>
<li>2017/11/24 Bernhard Egger added put/get_line functions</li>
<li>2017/12/06 Bernhard Egger added <a class="el" href="net_8h.html#ae41fa88db6ed607d45f56e2ad4a284a1" title="wrapper for getaddrinfo(). Make sure to free the returned structure with freeaddrinfo().">getsocklist()</a> &amp; cleanup</li>
</ul>
<h1><a class="anchor" id="license_section"></a>
License</h1>
<p>Copyright (c) 2016-2019, Computer Systems and Platforms Laboratory, SNU All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modifi- cation, are permitted provided that the following conditions are met:</p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSE- QUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>

<p class="definition">Definition in file <a class="el" href="net_8h_source.html">net.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aafce5bb9eaa5f34001fea0cb3549eb7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafce5bb9eaa5f34001fea0cb3549eb7e">&#9670;&nbsp;</a></span>dump_sockaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dump_sockaddr </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dump a sockaddr structure to stdout in human readable form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa</td><td>pointer to sockaddr struct </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="net_8c_source.html#l00070">70</a> of file <a class="el" href="net_8c_source.html">net.c</a>.</p>

</div>
</div>
<a id="acc3e864b0be134026b9456ba568181b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3e864b0be134026b9456ba568181b8">&#9670;&nbsp;</a></span>get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_data </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read <em>len</em> bytes from <em>sock</em> into <em>buf</em>. Blocks until <em>len</em> bytes have been read, and survives interrupts caused by signals. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>socket to read from </td></tr>
    <tr><td class="paramname">buf</td><td>pointer to data buffer </td></tr>
    <tr><td class="paramname">len</td><td>number of bytes to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>number of bytes read </td></tr>
    <tr><td class="paramname">==</td><td>0 nothing read (socket closed by peer) </td></tr>
    <tr><td class="paramname">-1</td><td>error, errno contains error code </td></tr>
    <tr><td class="paramname">-2</td><td>invalid arguments</td></tr>
  </table>
  </dd>
</dl>
<p>read <em>len</em> bytes from <em>sock</em> into <em>buf</em>. Blocks until <em>len</em> bytes have been read, and survives interrupts caused by signals. </p>

<p class="definition">Definition at line <a class="el" href="net_8c_source.html#l00134">134</a> of file <a class="el" href="net_8c_source.html">net.c</a>.</p>

</div>
</div>
<a id="a2de712772b5c6584ab79823ecb73aa91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de712772b5c6584ab79823ecb73aa91">&#9670;&nbsp;</a></span>get_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_line </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>cur_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read a '\n'-terminated line from <em>sock</em> into <em>buf</em>. <em>Buf</em> is reallocated if necessary. Blocks until one line has been read, and survives interrupts caused by signals. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>socket to read from </td></tr>
    <tr><td class="paramname">buf</td><td>data buffer. In/out parameter. </td></tr>
    <tr><td class="paramname">cur_len</td><td>length of data buffer. In/out parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>number of bytes read (including terminating newline) </td></tr>
    <tr><td class="paramname">==</td><td>0 nothing read (socket closed by peer) </td></tr>
    <tr><td class="paramname">-1</td><td>error, errno contains error code </td></tr>
    <tr><td class="paramname">-2</td><td>invalid arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="net_8c_source.html#l00144">144</a> of file <a class="el" href="net_8c_source.html">net.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8h_a2de712772b5c6584ab79823ecb73aa91_cgraph.png" border="0" usemap="#net_8h_a2de712772b5c6584ab79823ecb73aa91_cgraph" alt=""/></div>
<map name="net_8h_a2de712772b5c6584ab79823ecb73aa91_cgraph" id="net_8h_a2de712772b5c6584ab79823ecb73aa91_cgraph">
<area shape="rect"  title="read a &#39;
<area shape="rect"  href="net_8c.html#acc3e864b0be134026b9456ba568181b8" title=" " alt="" coords="120,5,192,32"/>
</map>
</div>

</div>
</div>
<a id="ae41fa88db6ed607d45f56e2ad4a284a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41fa88db6ed607d45f56e2ad4a284a1">&#9670;&nbsp;</a></span>getsocklist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct addrinfo* getsocklist </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>family</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>listening</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wrapper for getaddrinfo(). Make sure to free the returned structure with freeaddrinfo(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>host string (URL or IP in decimal dotted notation) </td></tr>
    <tr><td class="paramname">port</td><td>port </td></tr>
    <tr><td class="paramname">family</td><td>network family (AF_INET: IPv4, AF_INET6: IPv6, AF_UNSPEC: IPv4/6) </td></tr>
    <tr><td class="paramname">type</td><td>socket type (SOCK_STREAM: TCP, SOCK_DGRAM: UDP) </td></tr>
    <tr><td class="paramname">listening</td><td>&gt;0 for listening sockets, ==0 for connecting sockets </td></tr>
    <tr><td class="paramname">res</td><td>if not NULL, holds result of getaddrinfo() call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">addrinfo</td><td>linked list of matching sockets </td></tr>
    <tr><td class="paramname">NULL</td><td>in case of error. Use gai_strerror() with the <em>res</em> parameter to print the error in human-readable form. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="net_8c_source.html#l00048">48</a> of file <a class="el" href="net_8c_source.html">net.c</a>.</p>

</div>
</div>
<a id="acc2eda30b967452fe157dceff3e8963a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc2eda30b967452fe157dceff3e8963a">&#9670;&nbsp;</a></span>put_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int put_data </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write <em>len</em> bytes from <em>buf</em> to <em>sock</em>. Blocks until <em>len</em> bytes have been written, and survives interrupts caused by signals. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>socket to write to </td></tr>
    <tr><td class="paramname">buf</td><td>pointer to data buffer </td></tr>
    <tr><td class="paramname">len</td><td>number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>number of bytes sent </td></tr>
    <tr><td class="paramname">==</td><td>0 nothing sent (socket closed by peer) </td></tr>
    <tr><td class="paramname">-1</td><td>error, errno contains error code </td></tr>
    <tr><td class="paramname">-2</td><td>invalid arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="net_8c_source.html#l00139">139</a> of file <a class="el" href="net_8c_source.html">net.c</a>.</p>

</div>
</div>
<a id="a7009b8a51b941ac13828cd6af8139411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7009b8a51b941ac13828cd6af8139411">&#9670;&nbsp;</a></span>put_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int put_line </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write one or several '\n'-terminated lines from <em>buf</em> to <em>sock</em>. If not '\n'-terminated, an extra newline character is sent automatically. Blocks until all lines have been sent, and survives interrupts caused by signals. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>socket to write to </td></tr>
    <tr><td class="paramname">buf</td><td>pointer to line buffer </td></tr>
    <tr><td class="paramname">len</td><td>(max.) number of bytes to write (termination at first '\0') </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>number of bytes sent (including terminating newline) </td></tr>
    <tr><td class="paramname">==</td><td>0 nothing sent (socket closed by peer) </td></tr>
    <tr><td class="paramname">-1</td><td>error, errno contains error code </td></tr>
    <tr><td class="paramname">-2</td><td>invalid arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="net_8c_source.html#l00174">174</a> of file <a class="el" href="net_8c_source.html">net.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="net_8h_a7009b8a51b941ac13828cd6af8139411_cgraph.png" border="0" usemap="#net_8h_a7009b8a51b941ac13828cd6af8139411_cgraph" alt=""/></div>
<map name="net_8h_a7009b8a51b941ac13828cd6af8139411_cgraph" id="net_8h_a7009b8a51b941ac13828cd6af8139411_cgraph">
<area shape="rect"  title="write one or several &#39;
<area shape="rect"  href="net_8c.html#acc2eda30b967452fe157dceff3e8963a" title="write len bytes from buf to sock. Blocks until len bytes have been written, and survives interrupts c..." alt="" coords="120,5,192,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
